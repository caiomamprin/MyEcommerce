@model X.PagedList.IPagedList<Ecommerce.Models.Category>
@{
    ViewData["Title"] = "Index";
}

<h1>Categoria</h1>

<a asp-action="RegisterCategory" class="btn btn-primary">Adicionar</a>
@if (TempData["MSG_OK"] != null)
{
    <p class="alert alert-success">@TempData["MSG_OK"]</p>
}


@if (Model.Count > 0)
{
    <div class="table-responsive">

        <table class="table">
            <thead class="thead-dark">
                <tr class="table-active">
                    <th scope="col">Código</th>
                    <th scope="col">Nome</th>
                    <th scope="col">Categoria Pai</th>
                    <th scope="col">Slug</th>
                    <th scope="col">Ações</th>
                </tr>
            </thead>
            <tbody>
                @foreach (Category category in Model)
                {
                    <tr>
                        <th scope="row">@category.Id</th>
                        <td>@category.Name</td>
                        <td>@Html.DisplayFor(model => category.CategoryFather.Name)</td>
                        <td>@category.Slug</td>
                        <td>
                            <a asp-action="UpdateCategory" class="btn btn-secondary" asp-route-id="@category.Id">Atualizar</a>
                            <a asp-action="DeleteCategory" class="btn btn-danger" asp-route-id="@category.Id">Deletar</a>
                        </td>

                    </tr>
                }
            </tbody>

        </table>
    </div>
    @Html.PagedListPager((IPagedList)Model, pageIndex => Url.Action("Index", new { pageIndex }))
}
else
{
    <span>Nenhuma Categoria Cadastrada!</span>
}



